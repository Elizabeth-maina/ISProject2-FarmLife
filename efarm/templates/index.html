{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- Begin Page Content -->
<div class="container-fluid">

    <!-- Content Row -->
    <div class="row">

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                Total Farmers</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{total_farmers}}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fa fa-users fa-3x" aria-hidden="true" style="color: deepskyblue;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                Total Products</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{total_produce}}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-capsules fa-3x" style="color: limegreen;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-info shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Total Centres
                            </div>
                            <div class="row no-gutters align-items-center">
                                <div class="col-auto">
                                    <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{ total_centres }}</div>
                                </div>
                                <div class="col">
                                   
                                </div>
                            </div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-boxes fa-3x" style="color: orange ;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pending Requests Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">
                                Total Centre Managers</div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ total_centre_managers }}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-calendar-times fa-3x" style="color: #ff2200d0;"></i>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Content Row -->
    <div class="row">

        <!-- Area Chart -->
        <div class="col-xl-6 col-lg-7">
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Annual Sales By Centre</h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <canvas id="bar-chart" width="800" height="450"></canvas>
                    <script>
                        new Chart(document.getElementById("bar-chart"), {
                            type: 'bar',
                            data: {
                                labels: [{% for centre in centres %} '{{centre.name}}', {% endfor %}],
                                datasets: [
                                {
                                  label: "Sales (millions)",
                                  backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850","#C0392B","#F4D03F","#6C3483","#212F3D","#D35400","#EC407A","#33FFFF"],
                                  data: [2478,5267,734,784,433]
                                }
                              ]
                            },
                            options: {
                              legend: { display: false },
                              title: {
                                display: true,
                                text: 'Monthly Sale For 2022'
                              }
                            }
                        })
                    </script>

                </div>
            </div>
        </div>

        <!-- Pie Chart -->
        <div class="col-xl-6 col-lg-7">
            <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Product Sales</h6>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                    <canvas id="doughnut-chart" width="800" height="450"></canvas>
                    <script>
                        new Chart(document.getElementById("doughnut-chart"), {
                            type: 'doughnut',
                            data: {
                                labels: [{% for produce in produce %} '{{produce.name}}', {% endfor %}],
                                datasets: [
                                {
                                  label: "Sales (millions)",
                                  backgroundColor: ["#212F3D","#D35400","#C0392B","#F4D03F","#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850","#6C3483","#EC407A","#33FFFF"],
                                  data: [2478,5267]
                                }
                              ]
                            },
                            options: {
                              title: {
                                display: true,
                                text: 'Product Sales For 2022'
                              }
                            }
                        });
                    </script>

                </div>
            </div>
        </div>
    </div>
    <!-- Content Row -->
    <div class="row">

        <!-- Content Column -->
        <div class="col-lg-8 mb-4">

            <!-- Project Card Example -->
            <div class="card shadow mb-5">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Monthly Report</h6>
                </div>
                <div class="card-body">
                    <table class="table table-striped table-bordered ">
                        <thead>
                          <tr>
                            <th scope="col">Monthly Report</th>
                            <th scope="col">Amount</th>
                          </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Cash Received</th>
                                <td>{{ mon_cash_received }}</td>
                            </tr>
                            <tr>
                                <th scope="row">Bank Received</th>
                                <td>{{ mon_bank_received }}</td>
                            </tr>
                            <tr>
                                <th scope="row">Mpesa Received</th>
                                <td>{{ mon_mpesa_received}}</td>
                            </tr>
                            <tr>
                                <th scope="row">Total Received</th>
                                <td>{{ mon_daily_total}}</td>
                            </tr>
                        </tbody>
                      </table>
                </div>
            </div>

        </div>

        <div class="col-lg-4 mb-4">

            <!-- Illustrations -->
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Today's Report</h6>
                </div>
                <div class="card-body">
                    <table class="table table-striped table-bordered ">
                        <thead>
                          <tr>
                            <th scope="col">Today's Report</th>
                            <th scope="col">Amount</th>
                          </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Cash Received</th>
                                <td>{{ cash_received }}</td>
                            </tr>
                            <tr>
                                <th scope="row">Bank Received</th>
                                <td>{{ bank_received }}</td>
                            </tr>
                            <tr>
                                <th scope="row">Mpesa Received</th>
                                <td>{{ mpesa_received}}</td>
                            </tr>
                            <tr>
                                <th scope="row">Total Received</th>
                                <td>{{ daily_total}}</td>
                            </tr>
                        </tbody>
                      </table>
                </div>
            </div>

        </div>
    </div>

</div>
<!-- /.container-fluid -->

</div>
<!-- End of Main Content -->

{% endblock content %}